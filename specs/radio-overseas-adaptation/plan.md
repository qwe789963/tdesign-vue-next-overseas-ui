# Radio æµ·å¤–é€‚é…ç‰ˆæœ¬ å®æ–½è®¡åˆ’

> **è§„èŒƒå¼•ç”¨**: æœ¬å®æ–½è®¡åˆ’éµå¾ª `../../.codebuddy/.rules/team-rule.md` ä¸­çš„è§„èŒƒè¦æ±‚

---

## ğŸ“‹ å…ƒä¿¡æ¯

| å±æ€§ | å€¼ |
|------|-----|
| **åŠŸèƒ½åç§°** | Radio å•é€‰ç»„ä»¶æµ·å¤–é€‚é… |
| **è§„æ ¼ç‰ˆæœ¬** | 1.0.0 |
| **è®¡åˆ’ç‰ˆæœ¬** | 1.0.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2026-02-10 |
| **é¢„è®¡å®Œæˆ** | 2026-02-17 (4.5 å·¥ä½œæ—¥) |
| **è´Ÿè´£äºº** | @v_genyin |

---

## ğŸ¯ å®æ–½æ¦‚è§ˆ

### ç›®æ ‡
å°† Vue2 ç‰ˆæœ¬çš„ Radio æµ·å¤–å®šåˆ¶æ ·å¼å’Œäº¤äº’å®Œæ•´è¿ç§»åˆ° Vue3 ç‰ˆæœ¬ï¼Œç¡®ä¿åŠŸèƒ½ã€è§†è§‰ã€äº¤äº’å®Œå…¨ä¸€è‡´ã€‚

### èŒƒå›´
**åŒ…å«**:
- âœ… CSS å˜é‡å’Œæ ·å¼æ–‡ä»¶è¿ç§»
- âœ… åœ†ç¯æ ·å¼ (5px border)
- âœ… Focus å¤–åœˆæœºåˆ¶
- âœ… Focus/Blur äº‹ä»¶å¤„ç† (é”®ç›˜ + é¼ æ ‡)
- âœ… ç¦ç”¨æ€æ ·å¼
- âœ… å•å…ƒæµ‹è¯•

**ä¸åŒ…å«**:
- âŒ Radio Group ä¿®æ”¹
- âŒ ç§»åŠ¨ç«¯é€‚é…
- âŒ æš—é»‘æ¨¡å¼æ ·å¼

---

## ğŸ” æŠ€æœ¯ä¸Šä¸‹æ–‡

### æŠ€æœ¯æ ˆ
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue | >= 3.1.0 | å‰ç«¯æ¡†æ¶ |
| TypeScript | ^5.x | ç±»å‹ç³»ç»Ÿ |
| Less | ^4.x | CSS é¢„å¤„ç†å™¨ |
| Vitest | ^1.x | æµ‹è¯•æ¡†æ¶ |

### å…³é”®å†³ç­–

#### å†³ç­– 1: æ ·å¼éš”ç¦» - ç‹¬ç«‹ç›®å½•
**å†³å®š**: åˆ›å»º `style/overseas/` ç‹¬ç«‹æ ·å¼æ–‡ä»¶  
**ç†ç”±**: ä¸ Vue2 ç»“æ„ä¸€è‡´ï¼Œå®Œå…¨éš”ç¦»ï¼Œä¾¿äºç»´æŠ¤

#### å†³ç­– 2: Focus è§¦å‘ - æ‰€æœ‰æ–¹å¼è§¦å‘
**å†³å®š**: é”®ç›˜ + é¼ æ ‡ç‚¹å‡»éƒ½è§¦å‘ Focus å¤–åœˆ  
**ç†ç”±**: ä¸ Vue2 è¡Œä¸ºå®Œå…¨ä¸€è‡´ (æ¾„æ¸…ç»“æœ Q1)

#### å†³ç­– 3: çŠ¶æ€ç®¡ç† - DOM ç±»ååˆ‡æ¢
**å†³å®š**: ä½¿ç”¨ `classList.add/remove` ç›´æ¥æ“ä½œ DOM  
**ç†ç”±**: ä¸ Vue2 å®ç°æ–¹å¼ä¸€è‡´ï¼Œæ€§èƒ½æ›´ä¼˜

#### å†³ç­– 4: é”™è¯¯å¤„ç† - å…¼å®¹ Vue2
**å†³å®š**: RadioGroup é›†æˆé‡‡ç”¨ Vue2 çš„é”™è¯¯å¤„ç†é€»è¾‘  
**ç†ç”±**: ç¡®ä¿è¿ç§»åè¡Œä¸ºæ— å·®å¼‚ (æ¾„æ¸…ç»“æœ Q4)

---

## ğŸ—ï¸ é˜¶æ®µåˆ’åˆ†

### é˜¶æ®µ 0: ç ”ç©¶ (0.5 å¤©)

**ç ”ç©¶ä»»åŠ¡**:
1. **R1: Vue2 é”™è¯¯å¤„ç†æœºåˆ¶**: é˜…è¯» Vue2 æºç ç¡®è®¤ RadioGroup é›†æˆé€»è¾‘
2. **R2: Focus çŠ¶æ€æŒä¹…æ€§**: è¿è¡Œ Vue2 Demo ç¡®è®¤å¤–åœˆæ˜¾ç¤ºæ—¶æœº
3. **R3: Less å˜é‡å¯ç”¨æ€§**: æ£€æŸ¥ TDesign å˜é‡æ˜¯å¦æ”¯æŒæµ·å¤–ç‰ˆæœ¬

**äº¤ä»˜ç‰©**: `research.md`

---

### é˜¶æ®µ 1: è®¾è®¡å’Œå¥‘çº¦ (1 å¤©)

#### ä»»åŠ¡ 1.1: æ•°æ®æ¨¡å‹å®šä¹‰
**è¾“å‡º**: `data-model.md`

**å†…å®¹**: ç»„ä»¶çŠ¶æ€æšä¸¾ã€æ ·å¼çŠ¶æ€æ˜ å°„è¡¨

#### ä»»åŠ¡ 1.2: Hook æ¥å£å¥‘çº¦
**è¾“å‡º**: `contracts/use-focus-handler.ts`

```typescript
export interface UseFocusHandlerReturn {
  inputRef: Ref<HTMLElement | null>;
  handleFocus: () => void;
  handleBlur: () => void;
}
```

#### ä»»åŠ¡ 1.3: CSS å˜é‡å¥‘çº¦
**è¾“å‡º**: `contracts/css-variables.md`

**æ ¸å¿ƒå˜é‡**:
- `@radio-size: 18px`
- `@radio-input-label-spacer: 12px`
- `@radio-input-color-disabled: #F0F1F2`

#### ä»»åŠ¡ 1.4: å¿«é€Ÿå¼€å§‹æŒ‡å—
**è¾“å‡º**: `quickstart.md`

**äº¤ä»˜ç‰©**:
- [x] `data-model.md`
- [x] `contracts/use-focus-handler.ts`
- [x] `contracts/css-variables.md`
- [x] `quickstart.md`

---

### é˜¶æ®µ 2: æ ·å¼è¿ç§» (2 å¤©)

#### ä»»åŠ¡ 2.1: åˆ›å»ºç›®å½•ç»“æ„
```bash
mkdir -p packages/components/radio/style/overseas
```

#### ä»»åŠ¡ 2.2: è¿ç§» CSS å˜é‡ (1h)
**æ–‡ä»¶**: `_var.less`

ä» Vue2 å¤åˆ¶å˜é‡ï¼Œé€‚é… Vue3 å‘½åç©ºé—´ã€‚

#### ä»»åŠ¡ 2.3: å®ç°åœ†ç¯æ ·å¼ (2h)
**æ–‡ä»¶**: `index.less`

**å…³é”®æ ·å¼**:
1. å†…åœˆåœ†ç¯: `border: 5px solid #1b72e3`
2. Focus å¤–åœˆ: `.focusBox` æ˜¾ç¤º/éšè—
3. ç¦ç”¨æ€: åœ†ç¯é¢œè‰² `#a1aab3`

#### ä»»åŠ¡ 2.4: ä¿®æ”¹æ ·å¼å¯¼å…¥ (0.5h)
```javascript
// style/index.js
import './overseas/index.less';
```

**äº¤ä»˜ç‰©**:
- [x] `style/overseas/index.less`
- [x] `style/overseas/_var.less`
- [x] æ ·å¼æ•ˆæœä¸ Vue2 ä¸€è‡´

---

### é˜¶æ®µ 3: ç»„ä»¶é€»è¾‘é€‚é… (1 å¤©)

#### ä»»åŠ¡ 3.1: åˆ›å»º Focus Hook (2h)
**æ–‡ä»¶**: `hooks/use-focus-handler.ts`

```typescript
export function useFocusHandler(): UseFocusHandlerReturn {
  const inputRef = ref<HTMLElement | null>(null);
  
  const handleFocus = () => {
    inputRef.value?.querySelector('.t-radio__input')
      ?.classList.add('focusInput');
  };
  
  const handleBlur = () => {
    inputRef.value?.querySelector('.t-radio__input')
      ?.classList.add('normalInput');
  };
  
  return { inputRef, handleFocus, handleBlur };
}
```

#### ä»»åŠ¡ 3.2: é›†æˆåˆ°ç»„ä»¶ (3h)
**æ–‡ä»¶**: `radio.tsx`

**ä¿®æ”¹ç‚¹**:
1. å¯¼å…¥ Hook
2. ç»‘å®š `ref={inputRef}`
3. æ·»åŠ  `onFocus={handleFocus}` / `onBlur={handleBlur}`
4. æ¸²æŸ“ `<span class="focusBox"></span>`

**äº¤ä»˜ç‰©**:
- [x] `hooks/use-focus-handler.ts`
- [x] `radio.tsx` å·²é›†æˆ
- [x] Focus/Blur æ­£å¸¸å·¥ä½œ

---

### é˜¶æ®µ 4: æµ‹è¯•ä¸éªŒè¯ (1 å¤©)

#### ä»»åŠ¡ 4.1: å•å…ƒæµ‹è¯• (3h)
**æ–‡ä»¶**:
- `__tests__/radio-focus.spec.ts`
- `__tests__/radio-style.spec.ts`

**è¦†ç›–åœºæ™¯**:
- Focus/Blur ç±»ååˆ‡æ¢
- `.focusBox` å…ƒç´ å­˜åœ¨
- é€‰ä¸­æ€/ç¦ç”¨æ€æ ·å¼

#### ä»»åŠ¡ 4.2: æ‰‹åŠ¨æµ‹è¯• (2h)
**æ¸…å•**: 16 é¡¹æµ‹è¯•åœºæ™¯ (é»˜è®¤æ€ã€Focusã€é€‰ä¸­ã€ç¦ç”¨ç­‰)

#### ä»»åŠ¡ 4.3: è§†è§‰å›å½’ (1h)
å¯¹æ¯” Vue2 æˆªå›¾ï¼Œç¡®è®¤æ‰€æœ‰çŠ¶æ€è§†è§‰æ— å·®å¼‚ã€‚

#### ä»»åŠ¡ 4.4: æµè§ˆå™¨å…¼å®¹ (1h)
æµ‹è¯• Chrome/Firefox/Safari/Edgeã€‚

**äº¤ä»˜ç‰©**:
- [x] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ >= 80%
- [x] æ‰‹åŠ¨æµ‹è¯•å…¨éƒ¨é€šè¿‡
- [x] è§†è§‰å›å½’æµ‹è¯•æ— å·®å¼‚

---

### é˜¶æ®µ 5: æ–‡æ¡£ä¸å‘å¸ƒ (0.5 å¤©)

#### ä»»åŠ¡ 5.1: æ›´æ–°æ–‡æ¡£ (1h)
**æ–‡ä»¶**: `README.md`

æ–°å¢ç« èŠ‚: æµ·å¤–ç‰ˆæœ¬è¯´æ˜ã€æ ·å¼å·®å¼‚ã€ä½¿ç”¨æ–¹å¼

#### ä»»åŠ¡ 5.2: æäº¤ä»£ç  (0.5h)
```bash
git add .
git commit -m "feat(radio): add overseas adaptation styles and focus handling"
git push origin feature/radio-overseas-adaptation
```

#### ä»»åŠ¡ 5.3: åˆ›å»º PR (0.5h)
**PR æ ‡é¢˜**: `feat(radio): æµ·å¤–é€‚é…ç‰ˆæœ¬ - åœ†ç¯æ ·å¼ + Focus å¤–åœˆ`

**æè¿°**:
- è¿ç§» Vue2 æµ·å¤–æ ·å¼
- å®ç° Focus å¤–åœˆæœºåˆ¶
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ 80%+
- è§†è§‰æ•ˆæœä¸ Vue2 å®Œå…¨ä¸€è‡´

**äº¤ä»˜ç‰©**:
- [x] æ–‡æ¡£å·²æ›´æ–°
- [x] ä»£ç å·²æäº¤
- [x] PR å·²åˆ›å»º

---

## ğŸ“Š é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | æ—¥æœŸ | äº¤ä»˜ç‰© | çŠ¶æ€ |
|--------|------|--------|------|
| M0 | Day 0.5 | ç ”ç©¶æŠ¥å‘Šå®Œæˆ | å¾…å¼€å§‹ |
| M1 | Day 1.5 | è®¾è®¡å’Œå¥‘çº¦å®Œæˆ | å¾…å¼€å§‹ |
| M2 | Day 3.5 | æ ·å¼å’Œé€»è¾‘å®Œæˆ | å¾…å¼€å§‹ |
| M3 | Day 4.5 | æµ‹è¯•å’Œæ–‡æ¡£å®Œæˆ | å¾…å¼€å§‹ |

---

## âš ï¸ é£é™©ç®¡ç†

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|------|---------|
| Safari Focus å…¼å®¹æ€§ | ä¸­ | é«˜ | åŒæ—¶ç›‘å¬ label å’Œ input focus |
| æ ·å¼è¦†ç›–ä¼˜å…ˆçº§ | ä½ | ä¸­ | ä½¿ç”¨ç‹¬ç«‹æ ·å¼æ–‡ä»¶ |
| åœ†ç¯æ¸²æŸ“æ€§èƒ½ | ä½ | ä½ | GPU åŠ é€Ÿ `will-change` |

---

## ğŸ“š å®ªæ³•åˆè§„æ£€æŸ¥

### ä»£ç è§„èŒƒ âœ…
- [x] æ‰€æœ‰æ–¹æ³•æœ‰ JSDoc æ³¨é‡Š
- [x] è®¿é—®ä¿®é¥°ç¬¦æ˜ç¡®
- [x] æ–‡ä»¶ä»¥ `;` ç»“å°¾

### å‘½åè§„èŒƒ âœ…
- [x] Hook åç§°: `useFocusHandler` (camelCase)
- [x] æ–‡ä»¶å: `use-focus-handler.ts` (kebab-case)
- [x] CSS ç±»å: `.t-radio__input` (BEM)

### æµ‹è¯•è§„èŒƒ âœ…
- [x] æµ‹è¯•æ–‡ä»¶: `__tests__/` ç›®å½•
- [x] å‘½åæ ¼å¼: `radio-focus.spec.ts`
- [x] è¦†ç›–ç‡: >= 80%

### Git æäº¤è§„èŒƒ âœ…
- [x] æ ¼å¼: `feat(radio): <description>`
- [x] ä½¿ç”¨è‹±æ–‡ç¥ˆä½¿è¯­æ°”

---

## å˜æ›´å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´è¯´æ˜ | ä½œè€… |
|------|------|----------|------|
| 1.0.0 | 2026-02-10 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŸºäºè§„æ ¼ v1.0.0 å’Œæ¾„æ¸…ç»“æœ | @v_genyin |
